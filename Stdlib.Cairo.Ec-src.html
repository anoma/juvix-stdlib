<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml"><meta charset="UTF-8"><link href="assets/css/juvix-catppuchin.css" rel="stylesheet" type="text/css"><link href="assets/css/latte-light.css" rel="stylesheet" type="text/css"><link href="assets/css/juvix-source.css" rel="stylesheet" type="text/css"><script src="assets/js/highlight.js" type="text/javascript"></script><div id="package-header"><span class="caption"></span></div><pre id="src-content"><span class="ju-judoc">---</span> <span class="ju-judoc">Functions for various actions on the STARK curve:</span>
<span class="ju-judoc">---</span> <span class="ju-judoc">y^2 = x^3 + alpha * x + beta</span>
<span class="ju-judoc">---</span> <span class="ju-judoc">where alpha = 1 and beta = 0x6f21413efbe40de150e596d72f7a8c5609ad26c15c915c1f4cdfcb99cee9e89.</span>
<span class="ju-judoc">---</span> <span class="ju-judoc">The point at infinity is represented as (0, 0).</span>
<span class="ju-judoc">---</span> <span class="ju-judoc">Implementation largely follows:</span>
<span class="ju-judoc">---</span> <span class="ju-judoc">https://github.com/starkware-libs/cairo-lang/blob/master/src/starkware/cairo/common/ec.cairo</span>
<span class="ju-keyword">module</span> <span id="Stdlib.Cairo.Ec"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec" class="ju-code-link ju-module"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Cairo.Ec</span></span></a></span></a></span></span><span class="ju-delimiter">;</span>

<span class="ju-keyword">import</span> <span id="Stdlib.Data.Field"><span class="annot"><a href="Stdlib.Data.Field-src.html#Stdlib.Data.Field" class="ju-code-link ju-module"><span class="annot"><a href="Stdlib.Data.Field-src.html#Stdlib.Data.Field" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Data.Field</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="Stdlib.Data.Bool"><span class="annot"><a href="Stdlib.Data.Bool-src.html#Stdlib.Data.Bool" class="ju-code-link ju-module"><span class="annot"><a href="Stdlib.Data.Bool-src.html#Stdlib.Data.Bool" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Data.Bool</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="Stdlib.Data.Pair"><span class="annot"><a href="Stdlib.Data.Pair-src.html#Stdlib.Data.Pair" class="ju-code-link ju-module"><span class="annot"><a href="Stdlib.Data.Pair-src.html#Stdlib.Data.Pair" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Data.Pair</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">module</span> <span id="StarkCurve"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#StarkCurve" class="ju-code-link ju-module"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#StarkCurve" class="ju-code-link ju-module"><span class="ju-module">StarkCurve</span></a></span></a></span></span><span class="ju-delimiter">;</span>
  <span id="StarkCurve.ALPHA"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#StarkCurve.ALPHA" class="ju-code-link ju-function"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#StarkCurve.ALPHA" class="ju-code-link ju-function"><span class="ju-function">ALPHA</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="Stdlib.Data.Field.Base-src.html#Field" class="ju-code-link ju-inductive"><span class="ju-axiom">Field</span></a></span> <span class="ju-keyword">:=</span> <span class="ju-number">1</span><span class="ju-delimiter">;</span>
  <span id="StarkCurve.BETA"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#StarkCurve.BETA" class="ju-code-link ju-function"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#StarkCurve.BETA" class="ju-code-link ju-function"><span class="ju-function">
  BETA</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="Stdlib.Data.Field.Base-src.html#Field" class="ju-code-link ju-inductive"><span class="ju-axiom">Field</span></a></span> <span class="ju-keyword">:=</span>
    <span class="ju-number">0x6f21413efbe40de150e596d72f7a8c5609ad26c15c915c1f4cdfcb99cee9e89</span><span class="ju-delimiter">;</span>
  <span id="StarkCurve.ORDER"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#StarkCurve.ORDER" class="ju-code-link ju-function"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#StarkCurve.ORDER" class="ju-code-link ju-function"><span class="ju-function">
  ORDER</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="Stdlib.Data.Field.Base-src.html#Field" class="ju-code-link ju-inductive"><span class="ju-axiom">Field</span></a></span> <span class="ju-keyword">:=</span>
    <span class="ju-number">0x800000000000010ffffffffffffffffb781126dcae7b2321e66a241adc64d2f</span><span class="ju-delimiter">;</span>
  <span id="StarkCurve.GEN_X"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#StarkCurve.GEN_X" class="ju-code-link ju-function"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#StarkCurve.GEN_X" class="ju-code-link ju-function"><span class="ju-function">
  GEN_X</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="Stdlib.Data.Field.Base-src.html#Field" class="ju-code-link ju-inductive"><span class="ju-axiom">Field</span></a></span> <span class="ju-keyword">:=</span>
    <span class="ju-number">0x1ef15c18599971b7beced415a40f0c7deacfd9b0d1819e03d723d8bc943cfca</span><span class="ju-delimiter">;</span>
  <span id="StarkCurve.GEN_Y"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#StarkCurve.GEN_Y" class="ju-code-link ju-function"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#StarkCurve.GEN_Y" class="ju-code-link ju-function"><span class="ju-function">
  GEN_Y</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="Stdlib.Data.Field.Base-src.html#Field" class="ju-code-link ju-inductive"><span class="ju-axiom">Field</span></a></span> <span class="ju-keyword">:=</span>
    <span class="ju-number">0x5668060aa49730b7be4801df46ec62de53ecd11abe43a32873000c36e8dc1f</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">end</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">builtin</span> <span class="ju-keyword">ec_point</span>
<span class="ju-keyword">type</span> <span id="Point"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point" class="ju-code-link ju-inductive"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point" class="ju-code-link ju-inductive"><span class="ju-inductive">Point</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span id="Point.mk"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point.mk" class="ju-code-link ju-constructor"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point.mk" class="ju-code-link ju-constructor"><span class="ju-constructor">mk</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:27" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="Stdlib.Data.Field.Base-src.html#Field" class="ju-code-link ju-inductive"><span class="ju-axiom">Field</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:28" class="ju-code-link ju-var"><span class="ju-var">y</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="Stdlib.Data.Field.Base-src.html#Field" class="ju-code-link ju-inductive"><span class="ju-axiom">Field</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">module</span> <span id="Internal"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Internal" class="ju-code-link ju-module"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Internal" class="ju-code-link ju-module"><span class="ju-module">Internal</span></a></span></a></span></span><span class="ju-delimiter">;</span>
  <span class="ju-keyword">builtin</span> <span class="ju-keyword">ec_op</span>
  <span class="ju-keyword">axiom</span> <span id="Internal.ecOp"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Internal.ecOp" class="ju-code-link ju-function"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Internal.ecOp" class="ju-code-link ju-function"><span class="ju-axiom">ecOp</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point" class="ju-code-link ju-inductive"><span class="ju-inductive">Point</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="Stdlib.Data.Field.Base-src.html#Field" class="ju-code-link ju-inductive"><span class="ju-axiom">Field</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point" class="ju-code-link ju-inductive"><span class="ju-inductive">Point</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point" class="ju-code-link ju-inductive"><span class="ju-inductive">Point</span></a></span><span class="ju-delimiter">;</span>

  <span class="ju-keyword">builtin</span> <span class="ju-keyword">random_ec_point</span>
  <span class="ju-keyword">axiom</span> <span id="Internal.randomEcPoint"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Internal.randomEcPoint" class="ju-code-link ju-function"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Internal.randomEcPoint" class="ju-code-link ju-function"><span class="ju-axiom">randomEcPoint</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point" class="ju-code-link ju-inductive"><span class="ju-inductive">Point</span></a></span><span class="ju-delimiter">;</span>
<span class="ju-keyword">end</span><span class="ju-delimiter">;</span>

<span class="ju-judoc">---</span> <span class="ju-judoc">Checks if an EC point is on the STARK curve.</span>
<span id="isOnCurve"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#isOnCurve" class="ju-code-link ju-function"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#isOnCurve" class="ju-code-link ju-function"><span class="ju-function">isOnCurve</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:31" class="ju-code-link ju-var"><span class="ju-var">point</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point" class="ju-code-link ju-inductive"><span class="ju-inductive">Point</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="Juvix.Builtin.V1.Bool-src.html#Bool" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span> <span class="ju-keyword">:=</span>
  <span class="ju-keyword">case</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:31" class="ju-code-link ju-var"><span class="ju-var">point</span></a></span> <span class="ju-keyword">of</span>
    <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point.mk" class="ju-code-link ju-constructor"><span class="ju-constructor">Point<span class="ju-delimiter">.</span>mk</span></a></span> <span id="Stdlib.Cairo.Ec:32"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:32" class="ju-code-link ju-var"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:32" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span></a></span></span> <span id="Stdlib.Cairo.Ec:33"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:33" class="ju-code-link ju-var"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:33" class="ju-code-link ju-var"><span class="ju-var">y</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">if</span> 
        <span class="ju-keyword">|</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:33" class="ju-code-link ju-var"><span class="ju-var">y</span></a></span> <span class="annot"><a href="Stdlib.Trait.Eq-src.html#==" class="ju-code-link ju-function"><span class="ju-function">==</span></a></span> <span class="ju-number">0</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:32" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="annot"><a href="Stdlib.Trait.Eq-src.html#==" class="ju-code-link ju-function"><span class="ju-function">==</span></a></span> <span class="ju-number">0</span>
        <span class="ju-keyword">|</span> <span class="ju-keyword">else</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:33" class="ju-code-link ju-var"><span class="ju-var">y</span></a></span> <span class="annot"><a href="Juvix.Builtin.V1.Trait.Natural-src.html#Natural.*" class="ju-code-link ju-function"><span class="ju-function">*</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:33" class="ju-code-link ju-var"><span class="ju-var">y</span></a></span> <span class="annot"><a href="Stdlib.Trait.Eq-src.html#==" class="ju-code-link ju-function"><span class="ju-function">==</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:32" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>x</span></a></span> <span class="annot"><a href="Juvix.Builtin.V1.Trait.Natural-src.html#Natural.*" class="ju-code-link ju-function"><span class="ju-function">*</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:32" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="annot"><a href="Juvix.Builtin.V1.Trait.Natural-src.html#Natural.+" class="ju-code-link ju-function"><span class="ju-function">+</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#StarkCurve.ALPHA" class="ju-code-link ju-function"><span class="ju-function">StarkCurve<span class="ju-delimiter">.</span>ALPHA</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="Juvix.Builtin.V1.Trait.Natural-src.html#Natural.*" class="ju-code-link ju-function"><span class="ju-function">*</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:32" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="annot"><a href="Juvix.Builtin.V1.Trait.Natural-src.html#Natural.+" class="ju-code-link ju-function"><span class="ju-function">+</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#StarkCurve.BETA" class="ju-code-link ju-function"><span class="ju-function">StarkCurve<span class="ju-delimiter">.</span>BETA</span></a></span><span class="ju-delimiter">;</span>

<span class="ju-judoc">---</span> <span class="ju-judoc">Doubles a valid `point` (computes point + point) on the elliptic curve.</span>
<span id="double"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#double" class="ju-code-link ju-function"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#double" class="ju-code-link ju-function"><span class="ju-function">double</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:34" class="ju-code-link ju-var"><span class="ju-var">point</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point" class="ju-code-link ju-inductive"><span class="ju-inductive">Point</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point" class="ju-code-link ju-inductive"><span class="ju-inductive">Point</span></a></span> <span class="ju-keyword">:=</span>
  <span class="ju-keyword">case</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:34" class="ju-code-link ju-var"><span class="ju-var">point</span></a></span> <span class="ju-keyword">of</span>
    <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point.mk" class="ju-code-link ju-constructor"><span class="ju-constructor">Point<span class="ju-delimiter">.</span>mk</span></a></span> <span id="Stdlib.Cairo.Ec:35"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:35" class="ju-code-link ju-var"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:35" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span></a></span></span> <span id="Stdlib.Cairo.Ec:36"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:36" class="ju-code-link ju-var"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:36" class="ju-code-link ju-var"><span class="ju-var">y</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">if</span> 
        <span class="ju-keyword">|</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:36" class="ju-code-link ju-var"><span class="ju-var">y</span></a></span> <span class="annot"><a href="Stdlib.Trait.Eq-src.html#==" class="ju-code-link ju-function"><span class="ju-function">==</span></a></span> <span class="ju-number">0</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:34" class="ju-code-link ju-var"><span class="ju-var">point</span></a></span>
        <span class="ju-keyword">|</span> <span class="ju-keyword">else</span> <span class="ju-keyword">:=</span>
          <span class="ju-keyword">let</span>
            <span id="slope"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#slope" class="ju-code-link ju-function"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#slope" class="ju-code-link ju-function"><span class="ju-function">slope</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="ju-delimiter">(</span><span class="ju-number">3</span> <span class="annot"><a href="Juvix.Builtin.V1.Trait.Natural-src.html#Natural.*" class="ju-code-link ju-function"><span class="ju-function">*</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:35" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="annot"><a href="Juvix.Builtin.V1.Trait.Natural-src.html#Natural.*" class="ju-code-link ju-function"><span class="ju-function">*</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:35" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="annot"><a href="Juvix.Builtin.V1.Trait.Natural-src.html#Natural.+" class="ju-code-link ju-function"><span class="ju-function">+</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#StarkCurve.ALPHA" class="ju-code-link ju-function"><span class="ju-function">StarkCurve<span class="ju-delimiter">.</span>ALPHA</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="Stdlib.Trait.Numeric-src.html#Numeric./" class="ju-code-link ju-function"><span class="ju-function">/</span></a></span> <span class="ju-delimiter">(</span><span class="ju-number">2</span> <span class="annot"><a href="Juvix.Builtin.V1.Trait.Natural-src.html#Natural.*" class="ju-code-link ju-function"><span class="ju-function">*</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:36" class="ju-code-link ju-var"><span class="ju-var">y</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
            <span id="r_x"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#r_x" class="ju-code-link ju-function"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#r_x" class="ju-code-link ju-function"><span class="ju-function">r_x</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#slope" class="ju-code-link ju-function"><span class="ju-function">slope</span></a></span> <span class="annot"><a href="Juvix.Builtin.V1.Trait.Natural-src.html#Natural.*" class="ju-code-link ju-function"><span class="ju-function">*</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#slope" class="ju-code-link ju-function"><span class="ju-function">slope</span></a></span> <span class="annot"><a href="Stdlib.Trait.Integral-src.html#Integral.-" class="ju-code-link ju-function"><span class="ju-function">-</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:35" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="annot"><a href="Stdlib.Trait.Integral-src.html#Integral.-" class="ju-code-link ju-function"><span class="ju-function">-</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:35" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span><span class="ju-delimiter">;</span>
            <span id="r_y"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#r_y" class="ju-code-link ju-function"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#r_y" class="ju-code-link ju-function"><span class="ju-function">r_y</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#slope" class="ju-code-link ju-function"><span class="ju-function">slope</span></a></span> <span class="annot"><a href="Juvix.Builtin.V1.Trait.Natural-src.html#Natural.*" class="ju-code-link ju-function"><span class="ju-function">*</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:35" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>x</span></a></span> <span class="annot"><a href="Stdlib.Trait.Integral-src.html#Integral.-" class="ju-code-link ju-function"><span class="ju-function">-</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#r_x" class="ju-code-link ju-function"><span class="ju-function">r_x</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="Stdlib.Trait.Integral-src.html#Integral.-" class="ju-code-link ju-function"><span class="ju-function">-</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:36" class="ju-code-link ju-var"><span class="ju-var">y</span></a></span><span class="ju-delimiter">;</span>
          <span class="ju-keyword">in</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point.mk" class="ju-code-link ju-constructor"><span class="ju-constructor">Point<span class="ju-delimiter">.</span>mk</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
               <span id="Stdlib.Cairo.Ec:40"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:40" class="ju-code-link ju-function"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:40" class="ju-code-link ju-function"><span class="ju-function">x</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#r_x" class="ju-code-link ju-function"><span class="ju-function">r_x</span></a></span><span class="ju-delimiter">;</span>
               <span id="Stdlib.Cairo.Ec:41"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:41" class="ju-code-link ju-function"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:41" class="ju-code-link ju-function"><span class="ju-function">y</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#r_y" class="ju-code-link ju-function"><span class="ju-function">r_y</span></a></span><span class="ju-delimiter">;</span>
             <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-judoc">---</span> <span class="ju-judoc">Adds two valid points on the EC.</span>
<span id="add"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#add" class="ju-code-link ju-function"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#add" class="ju-code-link ju-function"><span class="ju-function">add</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:42" class="ju-code-link ju-var"><span class="ju-var">point1</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:43" class="ju-code-link ju-var"><span class="ju-var">point2</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point" class="ju-code-link ju-inductive"><span class="ju-inductive">Point</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point" class="ju-code-link ju-inductive"><span class="ju-inductive">Point</span></a></span> <span class="ju-keyword">:=</span>
  <span class="ju-keyword">case</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:42" class="ju-code-link ju-var"><span class="ju-var">point1</span></a></span><span class="annot"><a href="Stdlib.Data.Pair.Base-src.html#Pair.," class="ju-code-link ju-constructor"><span class="ju-constructor">,</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:43" class="ju-code-link ju-var"><span class="ju-var">point2</span></a></span> <span class="ju-keyword">of</span>
    <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point.mk" class="ju-code-link ju-constructor"><span class="ju-constructor">Point<span class="ju-delimiter">.</span>mk</span></a></span> <span id="Stdlib.Cairo.Ec:44"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:44" class="ju-code-link ju-var"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:44" class="ju-code-link ju-var"><span class="ju-var">x1</span></a></span></a></span></span> <span id="Stdlib.Cairo.Ec:45"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:45" class="ju-code-link ju-var"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:45" class="ju-code-link ju-var"><span class="ju-var">y1</span></a></span></a></span></span><span class="annot"><a href="Stdlib.Data.Pair.Base-src.html#Pair.," class="ju-code-link ju-constructor"><span class="ju-constructor">,</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point.mk" class="ju-code-link ju-constructor"><span class="ju-constructor">Point<span class="ju-delimiter">.</span>mk</span></a></span> <span id="Stdlib.Cairo.Ec:46"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:46" class="ju-code-link ju-var"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:46" class="ju-code-link ju-var"><span class="ju-var">x2</span></a></span></a></span></span> <span id="Stdlib.Cairo.Ec:47"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:47" class="ju-code-link ju-var"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:47" class="ju-code-link ju-var"><span class="ju-var">y2</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">if</span> 
        <span class="ju-keyword">|</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:45" class="ju-code-link ju-var"><span class="ju-var">y1</span></a></span> <span class="annot"><a href="Stdlib.Trait.Eq-src.html#==" class="ju-code-link ju-function"><span class="ju-function">==</span></a></span> <span class="ju-number">0</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:43" class="ju-code-link ju-var"><span class="ju-var">point2</span></a></span>
        <span class="ju-keyword">|</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:47" class="ju-code-link ju-var"><span class="ju-var">y2</span></a></span> <span class="annot"><a href="Stdlib.Trait.Eq-src.html#==" class="ju-code-link ju-function"><span class="ju-function">==</span></a></span> <span class="ju-number">0</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:42" class="ju-code-link ju-var"><span class="ju-var">point1</span></a></span>
        <span class="ju-keyword">|</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:44" class="ju-code-link ju-var"><span class="ju-var">x1</span></a></span> <span class="annot"><a href="Stdlib.Trait.Eq-src.html#==" class="ju-code-link ju-function"><span class="ju-function">==</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:46" class="ju-code-link ju-var"><span class="ju-var">x2</span></a></span> <span class="ju-keyword">:=</span>
          <span class="ju-keyword">if</span> 
            <span class="ju-keyword">|</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:45" class="ju-code-link ju-var"><span class="ju-var">y1</span></a></span> <span class="annot"><a href="Stdlib.Trait.Eq-src.html#==" class="ju-code-link ju-function"><span class="ju-function">==</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:47" class="ju-code-link ju-var"><span class="ju-var">y2</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#double" class="ju-code-link ju-function"><span class="ju-function">double</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:42" class="ju-code-link ju-var"><span class="ju-var">point1</span></a></span>
            <span class="ju-keyword">|</span> <span class="ju-keyword">else</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point.mk" class="ju-code-link ju-constructor"><span class="ju-constructor">Point<span class="ju-delimiter">.</span>mk</span></a></span> <span class="ju-number">0</span> <span class="ju-number">0</span>
        <span class="ju-keyword">|</span> <span class="ju-keyword">else</span> <span class="ju-keyword">:=</span>
          <span class="ju-keyword">let</span>
            <span id="slope"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#slope" class="ju-code-link ju-function"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#slope" class="ju-code-link ju-function"><span class="ju-function">slope</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:45" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>y1</span></a></span> <span class="annot"><a href="Stdlib.Trait.Integral-src.html#Integral.-" class="ju-code-link ju-function"><span class="ju-function">-</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:47" class="ju-code-link ju-var"><span class="ju-var">y2</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="Stdlib.Trait.Numeric-src.html#Numeric./" class="ju-code-link ju-function"><span class="ju-function">/</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:44" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>x1</span></a></span> <span class="annot"><a href="Stdlib.Trait.Integral-src.html#Integral.-" class="ju-code-link ju-function"><span class="ju-function">-</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:46" class="ju-code-link ju-var"><span class="ju-var">x2</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
            <span id="r_x"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#r_x" class="ju-code-link ju-function"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#r_x" class="ju-code-link ju-function"><span class="ju-function">r_x</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#slope" class="ju-code-link ju-function"><span class="ju-function">slope</span></a></span> <span class="annot"><a href="Juvix.Builtin.V1.Trait.Natural-src.html#Natural.*" class="ju-code-link ju-function"><span class="ju-function">*</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#slope" class="ju-code-link ju-function"><span class="ju-function">slope</span></a></span> <span class="annot"><a href="Stdlib.Trait.Integral-src.html#Integral.-" class="ju-code-link ju-function"><span class="ju-function">-</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:44" class="ju-code-link ju-var"><span class="ju-var">x1</span></a></span> <span class="annot"><a href="Stdlib.Trait.Integral-src.html#Integral.-" class="ju-code-link ju-function"><span class="ju-function">-</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:46" class="ju-code-link ju-var"><span class="ju-var">x2</span></a></span><span class="ju-delimiter">;</span>
            <span id="r_y"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#r_y" class="ju-code-link ju-function"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#r_y" class="ju-code-link ju-function"><span class="ju-function">r_y</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#slope" class="ju-code-link ju-function"><span class="ju-function">slope</span></a></span> <span class="annot"><a href="Juvix.Builtin.V1.Trait.Natural-src.html#Natural.*" class="ju-code-link ju-function"><span class="ju-function">*</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:44" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>x1</span></a></span> <span class="annot"><a href="Stdlib.Trait.Integral-src.html#Integral.-" class="ju-code-link ju-function"><span class="ju-function">-</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#r_x" class="ju-code-link ju-function"><span class="ju-function">r_x</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="Stdlib.Trait.Integral-src.html#Integral.-" class="ju-code-link ju-function"><span class="ju-function">-</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:45" class="ju-code-link ju-var"><span class="ju-var">y1</span></a></span><span class="ju-delimiter">;</span>
          <span class="ju-keyword">in</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point.mk" class="ju-code-link ju-constructor"><span class="ju-constructor">Point<span class="ju-delimiter">.</span>mk</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#r_x" class="ju-code-link ju-function"><span class="ju-function">r_x</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#r_y" class="ju-code-link ju-function"><span class="ju-function">r_y</span></a></span><span class="ju-delimiter">;</span>

<span class="ju-judoc">---</span> <span class="ju-judoc">Subtracts point2 from point1 on the EC.</span>
<span id="sub"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#sub" class="ju-code-link ju-function"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#sub" class="ju-code-link ju-function"><span class="ju-function">sub</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:51" class="ju-code-link ju-var"><span class="ju-var">point1</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:52" class="ju-code-link ju-var"><span class="ju-var">point2</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point" class="ju-code-link ju-inductive"><span class="ju-inductive">Point</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point" class="ju-code-link ju-inductive"><span class="ju-inductive">Point</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#add" class="ju-code-link ju-function"><span class="ju-function">add</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:51" class="ju-code-link ju-var"><span class="ju-var">point1</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:52" class="ju-code-link ju-var"><span class="ju-var">point2</span></a></span><span class="ju-keyword">@</span><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point" class="ju-code-link ju-inductive"><span class="ju-inductive">Point</span></a></span><span class="ju-delimiter">{</span>y <span class="ju-keyword">:=</span> <span class="ju-number">0</span> <span class="annot"><a href="Stdlib.Trait.Integral-src.html#Integral.-" class="ju-code-link ju-function"><span class="ju-function">-</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point.y" class="ju-code-link ju-function"><span class="ju-function">Point<span class="ju-delimiter">.</span>y</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:52" class="ju-code-link ju-var"><span class="ju-var">point2</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-judoc">---</span> <span class="ju-judoc">Computes point1 + alpha * point2 on the elliptic curve.</span>
<span class="ju-judoc">---</span> <span class="ju-judoc">Because the EC operation builtin cannot handle inputs where additions of points with the same x</span>
<span class="ju-judoc">---</span> <span class="ju-judoc">coordinate arise during the computation, this function adds and subtracts a nondeterministic</span>
<span class="ju-judoc">---</span> <span class="ju-judoc">point s to the computation, so that regardless of input, the probability that such additions</span>
<span class="ju-judoc">---</span> <span class="ju-judoc">arise will become negligibly small.</span>
<span class="ju-judoc">---</span> <span class="ju-judoc">The precise computation is therefore:</span>
<span class="ju-judoc">---</span> <span class="ju-judoc">((point1 + s) + alpha * point2) - s</span>
<span class="ju-judoc">---</span> <span class="ju-judoc">so that the inputs to the builtin itself are (point1 + s), alpha, and point2.</span>
<span class="ju-comment">---</span>
<span class="ju-judoc">---</span> <span class="ju-judoc">Arguments:</span>
<span class="ju-judoc">---</span> <span class="ju-judoc">point1 - an EC point.</span>
<span class="ju-judoc">---</span> <span class="ju-judoc">alpha - the multiplication coefficient of point2 (a field element).</span>
<span class="ju-judoc">---</span> <span class="ju-judoc">point2 - an EC point.</span>
<span class="ju-comment">---</span>
<span class="ju-judoc">---</span> <span class="ju-judoc">Returns:</span>
<span class="ju-judoc">---</span> <span class="ju-judoc">point1 + alpha * point2.</span>
<span class="ju-comment">---</span>
<span class="ju-judoc">---</span> <span class="ju-judoc">Assumptions:</span>
<span class="ju-judoc">---</span> <span class="ju-judoc">point1 and point2 are valid points on the curve.</span>
<span id="addMul"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#addMul" class="ju-code-link ju-function"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#addMul" class="ju-code-link ju-function"><span class="ju-function">addMul</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:55" class="ju-code-link ju-var"><span class="ju-var">point1</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point" class="ju-code-link ju-inductive"><span class="ju-inductive">Point</span></a></span><span class="ju-delimiter">)</span> <span class="ju-delimiter">(</span><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:56" class="ju-code-link ju-var"><span class="ju-var">alpha</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="Stdlib.Data.Field.Base-src.html#Field" class="ju-code-link ju-inductive"><span class="ju-axiom">Field</span></a></span><span class="ju-delimiter">)</span> <span class="ju-delimiter">(</span><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:57" class="ju-code-link ju-var"><span class="ju-var">point2</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point" class="ju-code-link ju-inductive"><span class="ju-inductive">Point</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point" class="ju-code-link ju-inductive"><span class="ju-inductive">Point</span></a></span> <span class="ju-keyword">:=</span>
  <span class="ju-keyword">if</span> 
    <span class="ju-keyword">|</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point.y" class="ju-code-link ju-function"><span class="ju-function">Point<span class="ju-delimiter">.</span>y</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:57" class="ju-code-link ju-var"><span class="ju-var">point2</span></a></span> <span class="annot"><a href="Stdlib.Trait.Eq-src.html#==" class="ju-code-link ju-function"><span class="ju-function">==</span></a></span> <span class="ju-number">0</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:55" class="ju-code-link ju-var"><span class="ju-var">point1</span></a></span>
    <span class="ju-keyword">|</span> <span class="ju-keyword">else</span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">let</span>
        <span id="s"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#s" class="ju-code-link ju-function"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#s" class="ju-code-link ju-function"><span class="ju-function">s</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point" class="ju-code-link ju-inductive"><span class="ju-inductive">Point</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Internal.randomEcPoint" class="ju-code-link ju-function"><span class="ju-axiom">Internal<span class="ju-delimiter">.</span>randomEcPoint</span></a></span><span class="ju-delimiter">;</span>
        <span id="r"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#r" class="ju-code-link ju-function"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#r" class="ju-code-link ju-function"><span class="ju-function">r</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point" class="ju-code-link ju-inductive"><span class="ju-inductive">Point</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Internal.ecOp" class="ju-code-link ju-function"><span class="ju-axiom">Internal<span class="ju-delimiter">.</span>ecOp</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#add" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>add</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:55" class="ju-code-link ju-var"><span class="ju-var">point1</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#s" class="ju-code-link ju-function"><span class="ju-function">s</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:56" class="ju-code-link ju-var"><span class="ju-var">alpha</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:57" class="ju-code-link ju-var"><span class="ju-var">point2</span></a></span><span class="ju-delimiter">;</span>
      <span class="ju-keyword">in</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#sub" class="ju-code-link ju-function"><span class="ju-function">sub</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#r" class="ju-code-link ju-function"><span class="ju-function">r</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#s" class="ju-code-link ju-function"><span class="ju-function">s</span></a></span><span class="ju-delimiter">;</span>

<span class="ju-judoc">---</span> <span class="ju-judoc">Computes alpha * point on the elliptic curve.</span>
<span id="mul"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#mul" class="ju-code-link ju-function"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#mul" class="ju-code-link ju-function"><span class="ju-function">mul</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:60" class="ju-code-link ju-var"><span class="ju-var">alpha</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="Stdlib.Data.Field.Base-src.html#Field" class="ju-code-link ju-inductive"><span class="ju-axiom">Field</span></a></span><span class="ju-delimiter">)</span> <span class="ju-delimiter">(</span><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:61" class="ju-code-link ju-var"><span class="ju-var">point</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point" class="ju-code-link ju-inductive"><span class="ju-inductive">Point</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point" class="ju-code-link ju-inductive"><span class="ju-inductive">Point</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#addMul" class="ju-code-link ju-function"><span class="ju-function">addMul</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point.mk" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Point<span class="ju-delimiter">.</span>mk</span></a></span> <span class="ju-number">0</span> <span class="ju-number">0</span><span class="ju-delimiter">)</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:60" class="ju-code-link ju-var"><span class="ju-var">alpha</span></a></span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Stdlib.Cairo.Ec:61" class="ju-code-link ju-var"><span class="ju-var">point</span></a></span><span class="ju-delimiter">;</span>

<span class="ju-keyword">module</span> <span id="Operators"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Operators" class="ju-code-link ju-module"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Operators" class="ju-code-link ju-module"><span class="ju-module">Operators</span></a></span></a></span></span><span class="ju-delimiter">;</span>
  <span class="ju-keyword">import</span> <span id="Stdlib.Data.Fixity"><span class="annot"><a href="Stdlib.Data.Fixity-src.html#Stdlib.Data.Fixity" class="ju-code-link ju-module"><span class="annot"><a href="Stdlib.Data.Fixity-src.html#Stdlib.Data.Fixity" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Data.Fixity</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>

  <span class="ju-keyword">syntax</span> <span class="ju-keyword">operator</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Operators.+" class="ju-code-link ju-function"><span class="ju-function">+</span></a></span> <span class="annot"><a href="Juvix.Builtin.V1.Fixity-src.html#additive" class="ju-code-link ju-fixity"><span class="ju-fixity">additive</span></a></span><span class="ju-delimiter">;</span>
  <span id="Operators.+"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Operators.+" class="ju-code-link ju-function"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Operators.+" class="ju-code-link ju-function"><span class="ju-function">+</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point" class="ju-code-link ju-inductive"><span class="ju-inductive">Point</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point" class="ju-code-link ju-inductive"><span class="ju-inductive">Point</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point" class="ju-code-link ju-inductive"><span class="ju-inductive">Point</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#add" class="ju-code-link ju-function"><span class="ju-function">add</span></a></span><span class="ju-delimiter">;</span>

  <span class="ju-keyword">syntax</span> <span class="ju-keyword">operator</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Operators.-" class="ju-code-link ju-function"><span class="ju-function">-</span></a></span> <span class="annot"><a href="Juvix.Builtin.V1.Fixity-src.html#additive" class="ju-code-link ju-fixity"><span class="ju-fixity">additive</span></a></span><span class="ju-delimiter">;</span>
  <span id="Operators.-"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Operators.-" class="ju-code-link ju-function"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Operators.-" class="ju-code-link ju-function"><span class="ju-function">-</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point" class="ju-code-link ju-inductive"><span class="ju-inductive">Point</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point" class="ju-code-link ju-inductive"><span class="ju-inductive">Point</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point" class="ju-code-link ju-inductive"><span class="ju-inductive">Point</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#sub" class="ju-code-link ju-function"><span class="ju-function">sub</span></a></span><span class="ju-delimiter">;</span>

  <span class="ju-keyword">syntax</span> <span class="ju-keyword">operator</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Operators.*" class="ju-code-link ju-function"><span class="ju-function">*</span></a></span> <span class="annot"><a href="Juvix.Builtin.V1.Fixity-src.html#multiplicative" class="ju-code-link ju-fixity"><span class="ju-fixity">multiplicative</span></a></span><span class="ju-delimiter">;</span>
  <span id="Operators.*"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Operators.*" class="ju-code-link ju-function"><span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Operators.*" class="ju-code-link ju-function"><span class="ju-function">*</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="Stdlib.Data.Field.Base-src.html#Field" class="ju-code-link ju-inductive"><span class="ju-axiom">Field</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point" class="ju-code-link ju-inductive"><span class="ju-inductive">Point</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#Point" class="ju-code-link ju-inductive"><span class="ju-inductive">Point</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="Stdlib.Cairo.Ec-src.html#mul" class="ju-code-link ju-function"><span class="ju-function">mul</span></a></span><span class="ju-delimiter">;</span>
<span class="ju-keyword">end</span><span class="ju-delimiter">;</span>
</pre><footer><pre>Powered by <a href="https://juvix.org">Juvix </a><a href="https://github.com/anoma/juvix/commit/adc3b81">0.6.9-adc3b81</a></pre></footer><footer><pre>Last modified on 2025-03-07 17:10 UTC</pre></footer></html>